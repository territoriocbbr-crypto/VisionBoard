<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Mis Metas</title>

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&family=Playfair+Display&display=swap" rel="stylesheet">

<style>
*{box-sizing:border-box;margin:0;padding:0}

body{
  font-family:'Poppins',sans-serif;
  background:#eaf2ff;
  min-height:100vh;
}

/* GIRASOL MARCA DE AGUA */
body::before{
  content:"";
  position:fixed;
  inset:0;
  background:url("girasol.png") center/70% no-repeat;
  opacity:0.06;
  pointer-events:none;
  z-index:-1;
}

/* TITULO */
#title{
  text-align:center;
  font-family:'Playfair Display',serif;
  font-size:3rem;
  color:#355c9a;
  padding:20px;
  user-select:none;
}

/* TABLERO */
.board{
  max-width:1200px;
  margin:auto;
  display:grid;
  grid-template-columns:repeat(5,1fr);
  gap:20px;
  padding:20px;
}

/* NOTAS */
.note{height:170px;perspective:1200px;cursor:pointer}
.note-inner{
  width:100%;height:100%;
  transition:transform .9s cubic-bezier(.4,.2,.2,1);
  transform-style:preserve-3d;
}
.note.open .note-inner{transform:rotateY(180deg) translateY(-8px)}

.note-face{
  position:absolute;inset:0;
  border-radius:10px;
  padding:14px;
  display:flex;
  align-items:center;
  justify-content:center;
  text-align:center;
  backface-visibility:hidden;
}

.note-front{
  background:#cfe0ff;
  color:#1f3c6d;
  font-weight:600;
  box-shadow:0 6px 12px rgba(0,0,0,.15);
}

.note-back{
  background:#f5f8ff;
  color:#1f3c6d;
  font-family:'Playfair Display',serif;
  font-size:.9rem;
  line-height:1.25;
  transform:rotateY(180deg);
  box-shadow:0 6px 12px rgba(0,0,0,.15);
}

/* RULETA */
#rouletteOverlay{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.45);
  display:flex;
  align-items:center;
  justify-content:center;
  z-index:20;
}

.hidden{display:none}

#rouletteBox{
  background:#fff;
  border-radius:16px;
  padding:30px;
  text-align:center;
  box-shadow:0 20px 40px rgba(0,0,0,.3);
}

#spinBtn,#closeRoulette{
  margin-top:12px;
  padding:10px 20px;
  font-size:1rem;
  border:none;
  border-radius:8px;
  cursor:pointer;
}

#spinBtn{background:#355c9a;color:white}
#closeRoulette{background:#ddd}

/* CARTA PREMIO */
#prizeCard{
  position:fixed;
  bottom:20px;
  right:20px;
  background:#fff;
  border-radius:12px;
  padding:16px 20px;
  box-shadow:0 10px 25px rgba(0,0,0,.25);
  font-family:'Playfair Display',serif;
}

@media(max-width:900px){.board{grid-template-columns:repeat(3,1fr)}}
@media(max-width:600px){.board{grid-template-columns:repeat(2,1fr)}}
</style>
</head>

<body>

<h1 id="title">Mis metas</h1>
<div class="board" id="board"></div>

<!-- RULETA -->
<div id="rouletteOverlay" class="hidden">
  <div id="rouletteBox">
    <h2>ðŸŽ¡ Premio</h2>
    <button id="spinBtn">Girar</button>
    <p id="rouletteResult"></p>
    <button id="closeRoulette">Cerrar</button>
  </div>
</div>

<div id="prizeCard" class="hidden"></div>

<script>
const metas = [
{t:"ðŸ’™ Salud",p:20,f:"Gracias por elegirte incluso en los dÃ­as difÃ­ciles. Tu cuerpo tambiÃ©n celebra este logro. Y yoâ€¦ respiro con mÃ¡s tranquilidad."},
{t:"âœˆï¸ Viajes",p:30,f:"Fuiste valiente al salir, y el mundo respondiÃ³ abriÃ©ndote caminos.\nCada viaje te devolviÃ³ un poco mÃ¡s de ti"},
{t:"ðŸ’¼ Estabilidad laboral",p:30,f:"Todo el esfuerzo silencioso encontrÃ³ su lugar. Te lo mereces siempre has sido una gran trabajadora y la mÃ¡s hÃ¡bil en tu campo, te deseo mÃ¡s y mÃ¡s crecimiento laboral. Vamos por mÃ¡s puntos."},
{t:"ðŸŒ± Amor propio",p:50,f:"Aprendiste a tratarte con la misma ternura que das a los demÃ¡s, eres un tesoro no para presumir si no para apreciar y valorar."},
{t:"ðŸ“˜ Pasaporte",p:30,f:"Un documento pequeÃ±oâ€¦ y un mundo entero diciendo â€œbienvenidaâ€."},
{t:"ðŸ˜„ ReÃ­r mÃ¡s seguido",p:50,f:"Excelenteeee me alegra saber que estas cada vez mÃ¡s feliz, QuizÃ¡ no siempre logre sacarte una sonrisa, pero espero que nunca falte la esperanza de tu sonrisa en el mundo."},
{t:"ðŸš— Licencia",p:30,f:"Lo lograste, te felicito muchÃ­simo ahora tÃº llevas el volante, en todos los sentidos, y espero que en algunas de esas ocasiones pueda ser tu copiloto."},
{t:"ðŸ’° Ahorrar",p:50,f:"Paso a paso construiste tranquilidad. Y eso tambiÃ©n es Ã©xito, ya puedes comprarme algo tambiÃ©n jeje."},
{t:"ðŸ  Apartamento",p:20,f:"AquÃ­ empieza un hogar hecho a tu medida y a tu ritmo, aprovecha tu espacio y acomÃ³dalo a tu gusto."},
{t:"ðŸŽ¶ MÃºsica",p:50,f:"Â¿Que? Â¿En serio? Â¿Lograste aprender un instrumento? Te felicito, pero por favor dame el placer de escucharte practicar, que seria mas lindo que tu carita acompaÃ±ada de mÃºsica que tu misma haces."},
{t:"ðŸ™ Dios",p:50,f:"Bien, ahora soy yo quien necesita acercarse a Ã©l, y pedir que pueda seguir acompaÃ±Ã¡ndote en tu camino, no fue distancia lo que recorriste, fue profundidad."},
{t:"âœ¨ Agradecer",p:50,f:"Aprendiste a ver lo que antes pasaba desapercibido, muchas veces no somos conscientes de lo que nos rodea y lo que hacen quienes nos rodean, si se esfuerzan por ti es porque eres valiosa pero tambiÃ©n es valioso el esfuerzo que te dedican. Vamos por mas puntos monita."},
{t:"ðŸ’µ Dinero",p:20,f:"Hoy el dinero dejÃ³ de ser peso y se volviÃ³ herramienta, que este sea un motivo para continuar con tus ideas, con tus sueÃ±os, Â¿y porque no? Tus antojos, date gusto."},
{t:"ðŸ¥— Alimentarme bien",p:50,f:"Urraaaaa me alegra que completaras este, aunque ojalÃ¡ puedas seguir recibiendo la comida que te envÃ­e, mi forma de consentirte era alimentÃ¡ndote, Te cuidaste sin castigarte. Eso tambiÃ©n es amor."},
{t:"ðŸ“š Leer",p:50,f:"Cada pÃ¡gina fue una conversaciÃ³n contigo misma, sigue conociÃ©ndote, sigue aprendiendo y nunca dejes de crecer, si hoy eres fascinante, Â¿cÃ³mo serÃ¡s en unos aÃ±os?"},
{t:"ðŸš€ Emprendimiento",p:50,f:"Te atreviste a creer en tu idea cuando aÃºn era frÃ¡gil, y hoy tienes el empuje para cumplirla, recuerda que esto es solo una pequeÃ±a parte de todo lo que eres capaz de hacer, sigue mas allÃ¡ de la meta."},
{t:"ðŸ‘¨â€ðŸ‘©â€ðŸ‘§â€ðŸ‘¦ Compartir",p:50,f:"QuizÃ¡s no todos merecen tu tiempo, pero identificar a quienes si hace que el tiempo compartido siempre sea la mejor inversiÃ³n."},
{t:"ðŸŽ¤ No alejarme de la mÃºsica",p:50,f:"Gracias por no soltar lo que te sostiene por dentro, Nunca dejaste que el ruido apagara lo que te hace vibrar, ademÃ¡s un dÃ­a me pondrÃ¡s el micrÃ³fono y si sabre como es la letra de la canciÃ³n para que la cantemos al unisonÃ³."},
{t:"ðŸ«¶ Cuidarme",p:50,f:"Escucharte fue el acto mÃ¡s valiente, no esperes soluciones externas cuando quien realmente debe identificar lo grandiosa que es, eres tÃº misma."},
{t:"ðŸŒ» Girasoles",p:30,f:"Si cumpliste este espero haber sido participe de esta meta, y haberte dado mas flores este aÃ±o sin que te lo esperaras y permitiÃ©ndome el pequeÃ±o capricho de verte feliz."},
{t:"â³ Disciplina",p:50,f:"No fue rigidez, fue constancia con propÃ³sito lo que te permitiÃ³ lograr cada una de las metas y propÃ³sitos, de poco a poco se logran las grandes cosas asÃ­ que nunca desistas de seguirlo intentando, de seguir luchando por lo que mereces."},
{t:"ðŸŒ Idiomas",p:50,f:"Ahora tus ideas tambiÃ©n saben viajar en otros idiomas espero ahora si podamos escuchar mÃ¡s mÃºsica en ingles jeje y que pueda alocarme escuchÃ¡ndote hablar en francÃ©s, porque se que te queda muy bien."},
{t:"ðŸŽ“ Estudiar",p:50,f:"Seguiste creciendo incluso cuando nadie estaba mirando y es que eso eres tÃº, alguien que posee la capacidad de crecer mas de lo que los demÃ¡s llegaron a creer, sigue asÃ­."}
];

const board=document.getElementById("board");
const rouletteOverlay=document.getElementById("rouletteOverlay");
const rouletteResult=document.getElementById("rouletteResult");
const prizeCard=document.getElementById("prizeCard");

let opened=JSON.parse(localStorage.getItem("opened")||"[]");
let claimed=JSON.parse(localStorage.getItem("claimed")||"[]");

metas.forEach((m,i)=>{
  const note=document.createElement("div");
  note.className="note";
  if(opened.includes(i)) note.classList.add("open");

  note.innerHTML=`
    <div class="note-inner">
      <div class="note-face note-front">${m.t}</div>
      <div class="note-face note-back">${m.f}</div>
    </div>`;

  note.onclick=()=>{
    if(!note.classList.contains("open")){
      note.classList.add("open");
      opened.push(i);
      localStorage.setItem("opened",JSON.stringify(opened));
      evaluarRuleta();
    }
  };

  board.appendChild(note);
});

function evaluarRuleta(){
  const total=opened.reduce((s,i)=>s+metas[i].p,0);
  const hitos=[300,600,900,960];
  if(hitos.includes(total) && !claimed.includes(total)){
    claimed.push(total);
    localStorage.setItem("claimed",JSON.stringify(claimed));
    rouletteOverlay.classList.remove("hidden");
  }
}

document.getElementById("spinBtn").onclick=()=>{
  const premios=["Cena","Viaje","Regalo","Sorpresa"];
  const p=premios[Math.floor(Math.random()*premios.length)];
  rouletteResult.innerText="ðŸŽ Premio: "+p;
  prizeCard.innerText="ðŸŽ Premio pendiente: "+p;
  prizeCard.classList.remove("hidden");
};

document.getElementById("closeRoulette").onclick=()=>{
  rouletteOverlay.classList.add("hidden");
  rouletteResult.innerText="";
};

/* RESET 5s */
let timer;
title.onmousedown=()=>timer=setTimeout(()=>{localStorage.clear();location.reload()},5000);
document.onmouseup=()=>clearTimeout(timer);
</script>

</body>
</html>
